let Iconv = require('iconv').Iconv;

module.exports = (url, encoding) =>
  new Promise((resolve, reject) => {
    require('child_process').exec('curl ' + url, function(error, stdout, stderr) {
      resolve(new Iconv(encoding, 'UTF-8').convert(stdout));
    });
  });


// router.get('/smashing-rss', function *(next) {
//   this.body = yield curl('https://www.smashingmagazine.com/feed/');
// });

// router.get('/wp', function *(next) {
//   this.body = yield curl('http://www.wp.pl/');
// });
